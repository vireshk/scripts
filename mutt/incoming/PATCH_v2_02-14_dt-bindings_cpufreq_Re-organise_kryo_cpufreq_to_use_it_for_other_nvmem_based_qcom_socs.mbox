From vireshk  Thu Jul 25 16:12:38 2019
Delivered-To: viresh.kumar@linaro.org
Received: from gmail-pop.l.google.com [74.125.200.109] 	by vireshk-i7 with POP3 (fetchmail-6.3.26) 	for <vireshk@localhost> (single-drop); Thu, 25 Jul 2019 16:12:38 +0530 (IST)
Received: by 2002:a02:1a89:0:0:0:0:0 with SMTP id 131csp8301170jai;         Thu, 25 Jul 2019 03:41:59 -0700 (PDT)
X-Google-Smtp-Source: APXvYqyyj+cuihE/UGM9FTp9o8UWGmeF44FpMjTzwF9Kv1FGB9S9QMOD+MKhAek7tTmvjWPlE+z9
X-Received: by 2002:a17:90a:d80b:: with SMTP id a11mr87775309pjv.53.1564051319796;         Thu, 25 Jul 2019 03:41:59 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1564051319; cv=none;         d=google.com; s=arc-20160816;         b=rkLvstZTBEuE/gxieN1XuJDuDqDIzOHDcvpHb1M3jhXWx2ciTtbEDsSdudK6LHwJq/          HpWQAmIBb71hEXfldMralLDwv1QkS0RTDdAybjHM4oCDmLqXVPo59htPrVF7m2YrsV/q          5jCLOUjzUkKb1s+Ujrm2FmbhzcQKHMxeUzhtbjwH1vRO/ix0jXtRFdEGri90KhKNK95l          37OwhJGnESZL5Z5iHRnuFMQDy/rOtW2Z+5ewdo/ga3nLPlRAgMmZ+V93DE0QYpBuO7C6          eEhTafdb23ooq/5jyULcwp72XsEgIaWi6txXpnSnngHxbngAe60ftnBNJjGgPySmcYN8          /c6g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;         h=content-transfer-encoding:mime-version:references:in-reply-to          :message-id:date:subject:cc:to:from:dkim-signature:dmarc-filter          :delivered-to;         bh=HkR5c7pg+yPuBi2NQ0G3gtI0G9f3RBJtD6x7Jmgjehc=;         b=Tvnqvr4F5bCm68ha44mDh1bmLqEm6wJHS03ouNtWGayNHCTV9gmlXV7+ta848n2mMc          YIBT8SBvkCTDUvBBjENFqX3yLLbssSvyaH7oQ/gSaaTXfh0wFHYANbVvN8dlpW4QVOKW          ORDkN92ZXE2jB0KHk03ZmZL6KY45bz7I4Mc4QqhqldR3Pj2m3SIiwADDcjuYZBqGy4KI          NEEbOca2tfnr0HwpYKGc4/3Rb7VlVJWr62z+xfr3KZudQrX9ux9zPhAssHDj1IPv8Spy          jpoW3+I/+BiZbwUrsKxSG+ThoCXdwC++jiGrseAontMB6+xqriYA+OUtX8bB5ZTjQYdl          DjZw==
ARC-Authentication-Results: i=1; mx.google.com;        dkim=pass header.i=@linaro.org header.s=google header.b=ZLmJvOdi;        spf=pass (google.com: domain of srs0=wdvt=vw=linaro.org=niklas.cassel@kernel.org designates 198.145.29.99 as permitted sender) smtp.mailfrom="SRS0=wdVt=VW=linaro.org=niklas.cassel@kernel.org";        dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=linaro.org
Return-Path: <SRS0=wdVt=VW=linaro.org=niklas.cassel@kernel.org>
Received: from mail.kernel.org (mail.kernel.org. [198.145.29.99])         by mx.google.com with ESMTPS id e11si18965389pgi.121.2019.07.25.03.41.59         for <viresh.kumar@linaro.org>         (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);         Thu, 25 Jul 2019 03:41:59 -0700 (PDT)
Received-SPF: pass (google.com: domain of srs0=wdvt=vw=linaro.org=niklas.cassel@kernel.org designates 198.145.29.99 as permitted sender) client-ip=198.145.29.99;
Authentication-Results: mx.google.com;        dkim=pass header.i=@linaro.org header.s=google header.b=ZLmJvOdi;        spf=pass (google.com: domain of srs0=wdvt=vw=linaro.org=niklas.cassel@kernel.org designates 198.145.29.99 as permitted sender) smtp.mailfrom="SRS0=wdVt=VW=linaro.org=niklas.cassel@kernel.org";        dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=linaro.org
Received: by mail.kernel.org (Postfix) 	id 7EA252238C; Thu, 25 Jul 2019 10:41:59 +0000 (UTC)
Delivered-To: vireshk@kernel.org
Received: from mail-lj1-f195.google.com (mail-lj1-f195.google.com [209.85.208.195]) 	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)) 	(No client certificate requested) 	by mail.kernel.org (Postfix) with ESMTPS id 1E58822C7D 	for <vireshk@kernel.org>; Thu, 25 Jul 2019 10:41:59 +0000 (UTC)
Authentication-Results: mail.kernel.org; 	dkim=pass (2048-bit key) header.d=linaro.org header.i=@linaro.org header.b="ZLmJvOdi"
DMARC-Filter: OpenDMARC Filter v1.3.2 mail.kernel.org 1E58822C7D
Authentication-Results: mail.kernel.org; dmarc=pass (p=none dis=none) header.from=linaro.org
Authentication-Results: mail.kernel.org; spf=pass smtp.mailfrom=niklas.cassel@linaro.org
Received: by mail-lj1-f195.google.com with SMTP id h10so47541987ljg.0         for <vireshk@kernel.org>; Thu, 25 Jul 2019 03:41:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;         d=linaro.org; s=google;         h=from:to:cc:subject:date:message-id:in-reply-to:references          :mime-version:content-transfer-encoding;         bh=HkR5c7pg+yPuBi2NQ0G3gtI0G9f3RBJtD6x7Jmgjehc=;         b=ZLmJvOdiUYFEJm4i4mbuyrMY2o6mclBz5DhrFLFaBKoorOt5B6ZiY2psz1JuTtwaFZ          5kxpMa2cjNwA8rRi8P5H/op90KLl/aDbsFG69P0RY+FnENSQN1Xf2mdDymrZHkplNyRg          uK5KguUErED95Wmi4b3Ok+n5HeY/cSZEjPm+UMupvLcjVs7VJadZySzkdqoJDY9DOSKA          LFk5vCN6UOEQ/tjgt/gFuQQdJMvCeLuja7fHjZm8GWioL6xwxmQMzVvNPskaG9fzT/0B          85I2zrX1TaqE8klv4DrcceVpijzG3OYw4sIEM5/16ijVOGfz0sZjxMakrjAc++87GIQP          EuGQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;         d=1e100.net; s=20161025;         h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to          :references:mime-version:content-transfer-encoding;         bh=HkR5c7pg+yPuBi2NQ0G3gtI0G9f3RBJtD6x7Jmgjehc=;         b=Od+IxMIRy0DjCVVkzfhK89gbbTs0PrLS6OrCecuIp9iE6i/QYv/ifjC+21O5vKM5Bt          0C6YtU+xo/YUNBcL+VEbk+0NhLrLx2LxYO4DiywFcjicGpYa7BCrMACSDVIfD+tCueVR          fB+u/GNl0EK8O7Fk1W8lhQi1qSR12MA92JyXr9SRrW18jNMMFJ7KFxliGSrc57Hw61e7          thNzLeDWmZHiqSZBV2+F0unx/9GMaQkRjjCf0JDJTEuG45yBYbz/Dy1kZgy3iiOZS3zg          89jaaiu//Iwpk76z7zePbiMA5rbafO/qY/LsMsgxlaabunrNpeOBnwo+P0ZuezFoa1Ao          dKkA==
X-Gm-Message-State: APjAAAWwmlwNm4wglK/h6jcxkbu3VjZHl4xPYYXtUXRtSpyFLiW7CM+X 	XyiR7ceeKHdt1Q8PBXh5tOh/FPfEs4A=
X-Received: by 2002:a2e:534a:: with SMTP id t10mr8150715ljd.109.1564051317095;         Thu, 25 Jul 2019 03:41:57 -0700 (PDT)
Received: from localhost.localdomain (ua-83-226-44-230.bbcust.telenor.se. [83.226.44.230])         by smtp.gmail.com with ESMTPSA id b6sm8268306lfa.54.2019.07.25.03.41.56         (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);         Thu, 25 Jul 2019 03:41:56 -0700 (PDT)
From: Niklas Cassel <niklas.cassel@linaro.org>
To: Viresh Kumar <vireshk@kernel.org>, 	Nishanth Menon <nm@ti.com>, 	Stephen Boyd <sboyd@kernel.org>, 	Andy Gross <agross@kernel.org>, 	Ilia Lin <ilia.lin@kernel.org>
Cc: linux-arm-msm@vger.kernel.org, 	jorge.ramirez-ortiz@linaro.org, 	bjorn.andersson@linaro.org, 	ulf.hansson@linaro.org, 	Sricharan R <sricharan@codeaurora.org>, 	Niklas Cassel <niklas.cassel@linaro.org>, 	Rob Herring <robh@kernel.org>, 	Rob Herring <robh+dt@kernel.org>, 	Mark Rutland <mark.rutland@arm.com>, 	linux-pm@vger.kernel.org, 	devicetree@vger.kernel.org, 	linux-kernel@vger.kernel.org
Subject: [PATCH v2 02/14] dt-bindings: cpufreq: Re-organise kryo cpufreq to use it for other nvmem based qcom socs
Date: Thu, 25 Jul 2019 12:41:30 +0200
Message-Id: <20190725104144.22924-3-niklas.cassel@linaro.org>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190725104144.22924-1-niklas.cassel@linaro.org>
References: <20190725104144.22924-1-niklas.cassel@linaro.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Length: 2472
Lines: 50

From: Sricharan R <sricharan@codeaurora.org>

The kryo cpufreq driver reads the nvmem cell and uses that data to
populate the opps. There are other qcom cpufreq socs like krait which
does similar thing. Except for the interpretation of the read data,
rest of the driver is same for both the cases. So pull the common things
out for reuse.

Signed-off-by: Sricharan R <sricharan@codeaurora.org>
[niklas.cassel@linaro.org: split dt-binding into a separate patch and
do not rename the compatible string.]
Signed-off-by: Niklas Cassel <niklas.cassel@linaro.org>
Reviewed-by: Ilia Lin <ilia.lin@kernel.org>
Reviewed-by: Rob Herring <robh@kernel.org>
---
Changes since V1:
-Picked up tags.

 .../opp/{kryo-cpufreq.txt => qcom-nvmem-cpufreq.txt}   | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)
 rename Documentation/devicetree/bindings/opp/{kryo-cpufreq.txt => qcom-nvmem-cpufreq.txt} (98%)

diff --git a/Documentation/devicetree/bindings/opp/kryo-cpufreq.txt b/Documentation/devicetree/bindings/opp/qcom-nvmem-cpufreq.txt
similarity index 98%
rename from Documentation/devicetree/bindings/opp/kryo-cpufreq.txt
rename to Documentation/devicetree/bindings/opp/qcom-nvmem-cpufreq.txt
index c2127b96805a..198441e80ba8 100644
--- a/Documentation/devicetree/bindings/opp/kryo-cpufreq.txt
+++ b/Documentation/devicetree/bindings/opp/qcom-nvmem-cpufreq.txt
@@ -1,13 +1,13 @@
-Qualcomm Technologies, Inc. KRYO CPUFreq and OPP bindings
+Qualcomm Technologies, Inc. NVMEM CPUFreq and OPP bindings
 ===================================
 
-In Certain Qualcomm Technologies, Inc. SoCs like apq8096 and msm8996
-that have KRYO processors, the CPU ferequencies subset and voltage value
-of each OPP varies based on the silicon variant in use.
+In Certain Qualcomm Technologies, Inc. SoCs like apq8096 and msm8996,
+the CPU frequencies subset and voltage value of each OPP varies based on
+the silicon variant in use.
 Qualcomm Technologies, Inc. Process Voltage Scaling Tables
 defines the voltage and frequency value based on the msm-id in SMEM
 and speedbin blown in the efuse combination.
-The qcom-cpufreq-kryo driver reads the msm-id and efuse value from the SoC
+The qcom-cpufreq-nvmem driver reads the msm-id and efuse value from the SoC
 to provide the OPP framework with required information (existing HW bitmap).
 This is used to determine the voltage and frequency value for each OPP of
 operating-points-v2 table when it is parsed by the OPP framework.
-- 
2.21.0

